{"ast":null,"code":"var _jsxFileName = \"N:\\\\mahadev\\\\CRUD-FINAL\\\\client\\\\src\\\\Components\\\\Student\\\\List_Student.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { saveAs } from 'file-saver';\nimport { Link, NavLink } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst List_Student = () => {\n  _s();\n\n  const [student_data, setStudent] = useState([]);\n  useEffect(() => {\n    load_student_data();\n  }, []);\n\n  const load_student_data = async () => {\n    const result = await axios.get(`http://localhost:3100/studentdata/liststudent/${localStorage.getItem('Token_Key')}`);\n    setStudent(result.data);\n  };\n\n  const delete_student = async id => {\n    await axios.delete(`http://localhost:3100/studentdata/deletestudent/${id}`);\n    load_student_data();\n  };\n\n  const csv = async id => {\n    await axios.get(`http://localhost:3100/studentdata/csv/${id}`);\n    load_student_data();\n  };\n\n  const fetch_CSV = id => {\n    console.log(\"call fetch\");\n    axios.get(\"http://localhost:3100/studentdata/fetchcsv/\" + id, {\n      responseType: 'blob'\n    }).then(res => {\n      console.log(\"res\", res);\n      const pdfBlob = new Blob([res.data], {\n        type: 'application/csv'\n      }); //console.log(\"pdfdata\",pdfBlob);\n\n      saveAs(pdfBlob, 'DATA_INFO' + '_' + Date.now() + '.csv');\n    }).catch(err => {\n      console.log(\"Error=>\", err);\n    });\n  };\n\n  const pdf = async id => {\n    await axios.post(`http://localhost:3100/studentdata/pdf/${id}`);\n    load_student_data();\n  };\n\n  const fetch_pdf = (id, fname, lname) => {\n    console.log(\"call fetch\");\n    console.log(id, fname, lname);\n    axios.get(\"http://localhost:3100/studentdata/fetchpdf/\" + id, {\n      responseType: 'blob'\n    }).then(res => {\n      const pdfBlob = new Blob([res.data], {\n        type: 'application/pdf'\n      });\n      console.log(\"pdfdata\", pdfBlob);\n      saveAs(pdfBlob, fname + \"_\" + lname + \"_\" + Date.now() + '.pdf');\n    }).catch(err => {\n      console.log(\"Error=>\", err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      marginLeft: '0px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-4 shadow-lg p-0 mb-5 bg-white\",\n      style: {\n        width: '1480px',\n        margin: '20px 0 0 0',\n        borderRadius: '60px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '0 0 0 50px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              fontSize: '40px',\n              fontFamily: 'cursive'\n            },\n            children: \"Students List Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '0 0 10px 985px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            style: {\n              border: 'none'\n            },\n            className: \"btn btn-outline-warning btn-lg\",\n            onClick: () => {\n              if (window.confirm('Are you sure you wish to create CSV ?')) csv(localStorage.getItem('Token_Key'));\n              fetch_CSV(localStorage.getItem('Token_Key'));\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"far fa-file-csv fa-2x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 265\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table border\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"thead-dark\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fal fa-list-ol fa-2x\",\n                style: {\n                  color: \"white\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Firstname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Lastname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Department\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Mobile NO\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              width: \"150px\",\n              children: \"DOB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Graduation Year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: student_data.map((stu, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              id: \"tab\",\n              scope: \"row\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  width: '60px',\n                  height: '60px',\n                  borderRadius: '60px'\n                },\n                src: '/uploads/' + stu.profile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: stu.first_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: stu.last_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: stu.email_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: stu.Department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: stu.contact_no\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: stu.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: moment(stu.birthday).format('DD-MM-YYYY')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: stu.graduation_year\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              id: \"tab\",\n              children: stu.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                verticalAlign: 'middle',\n                textAlign: 'center',\n                display: 'revert'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                style: {\n                  border: 'none'\n                },\n                className: \"btn btn-outline-danger\",\n                onClick: () => {\n                  if (window.confirm('Are you sure you wish to delete this item?')) delete_student(stu._id);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-trash-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 215\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                style: {\n                  border: 'none'\n                },\n                className: \"btn btn-outline-success\",\n                exact: true,\n                to: `/viewstudent/${stu._id}`,\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-eye fa-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 142\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                style: {\n                  border: 'none'\n                },\n                className: \"btn btn-outline-primary\",\n                exact: true,\n                to: `/Editstudent/${stu._id}`,\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"far fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 143\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                style: {\n                  border: 'none'\n                },\n                className: \"btn btn-outline-info\",\n                onClick: () => {\n                  if (window.confirm('Are you sure you wish to create PDF ?')) pdf(stu._id);\n                  fetch_pdf(stu._id, stu.first_name, stu.last_name);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"far fa-file-pdf\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 246\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(List_Student, \"8IQKi8543o3Hyf+Up7vadBDw4Zw=\");\n\n_c = List_Student;\nexport default List_Student; // import React, { Component } from 'react'\n// import axios from 'axios';\n// import { Link, NavLink } from 'react-router-dom';\n// export default class List_Studenet extends Component {\n//     constructor(props) {\n//         super(props)\n//         this.delete_student = this.delete_student.bind(this)\n//         this.state = { students: [] }\n//     }\n//     componentDidMount() {\n//         axios.get(\"http://localhost:3100/studentdata/liststudent\")\n//             .then(res => {\n//                 this.setState({\n//                     students: res.data.reverse()\n//                 });\n//             })\n//             .catch((error) => {\n//                 console.log(error);\n//             })\n//     }\n//     delete_student = id =>{\n//         axios.delete(`http://localhost:3100/studentdata/deletestudent/${id}`)\n//         .then(res=>{\n//             //console.log('Student successfully deleted!'+res.id);\n//             window.location.replace('/liststudent');\n//             //this.props.history.push(\"/liststudent\");\n//         }).catch(err=>{\n//             console.log('Student Not deleted!'+err);\n//         })\n//     }\n//     render() {\n//         return (\n//             <div className=\"container\" style={{marginLeft:'0px'}}>\n//                 <div className=\"py-4\">\n//                     <h1 style={{margin:'0 0 10px 360px',fontSize:'40px',fontFamily: 'cursive'}}>Students Page</h1>\n//                     <table className=\"table border shadow-lg p-5 mb-5 bg-white rounded\" style={{width:'1480px'}}>\n//                         <thead className=\"thead-dark\">\n//                             <tr>\n//                                 <th scope=\"col\">#</th>\n//                                 <th scope=\"col\" width=\"10px\">Image</th>\n//                                 <th scope=\"col\" width=\"10px\">Firstname</th>\n//                                 <th scope=\"col\" width=\"10px\">Lastname</th>\n//                                 <th scope=\"col\" width=\"20px\">Email</th>\n//                                 <th scope=\"col\" width=\"10px\">Department</th>\n//                                 <th scope=\"col\" width=\"10px\">Mobile NO</th>\n//                                 <th scope=\"col\" width=\"30px\">Address</th>\n//                                 <th scope=\"col\" width=\"10px\">DOB</th>\n//                                 <th scope=\"col\" width=\"10px\">Graduation Year</th>\n//                                 <th scope=\"col\" width=\"10px\">password</th>\n//                                 <th scope=\"col\">Action</th>\n//                             </tr>\n//                         </thead>\n//                         <tbody>\n//                             {this.state.students.map((stu, index) => (\n//                                 <tr>\n//                                     <th scope=\"row\">{index + 1}</th>\n//                                     <td><img width=\"50\" height=\"50\" src={'/uploads/' + stu.profile} /></td>\n//                                     <td>{stu.first_name}</td>\n//                                     <td>{stu.last_name}</td>\n//                                     <td>{stu.email_id}</td>\n//                                     <td>{stu.Department}</td>\n//                                     <td>{stu.contact_no}</td>\n//                                     <td>{stu.address}</td>\n//                                     <td>{(stu.birthday)}</td>\n//                                     <td>{stu.graduation_year}</td>\n//                                     <td>{stu.password}</td>\n//                                     <td>\n//                                         <Link className=\"btn btn-outline-danger\" onClick={() => { if (window.confirm('Are you sure you wish to delete this item?'))  this.delete_student(stu._id) }} >DELETE</Link>\n//                                         {\" \"}||{\" \"}\n//                                         <Link className=\"btn btn-outline-secondary\" exact to={`/viewstudent/${stu._id}`}>VIEW</Link>\n//                                         {\" \"}||{\" \"}\n//                                         <Link className=\"btn btn-outline-primary\" exact to={`/Editstudent/${stu._id}`} >EDIT</Link>\n//                                     </td>\n//                                 </tr>\n//                             ))}\n//                         </tbody>\n//                     </table>\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"List_Student\");","map":{"version":3,"sources":["N:/mahadev/CRUD-FINAL/client/src/Components/Student/List_Student.js"],"names":["React","useState","useEffect","axios","moment","saveAs","Link","NavLink","List_Student","student_data","setStudent","load_student_data","result","get","localStorage","getItem","data","delete_student","id","delete","csv","fetch_CSV","console","log","responseType","then","res","pdfBlob","Blob","type","Date","now","catch","err","pdf","post","fetch_pdf","fname","lname","marginLeft","width","margin","borderRadius","fontSize","fontFamily","border","window","confirm","color","map","stu","index","height","profile","first_name","last_name","email_id","Department","contact_no","address","birthday","format","graduation_year","password","verticalAlign","textAlign","display","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport { saveAs } from 'file-saver';\r\n\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nconst List_Student = () => {\r\n\r\n    const [student_data, setStudent] = useState([]);\r\n\r\n    useEffect(() => {\r\n        load_student_data();\r\n    }, []);\r\n\r\n    const load_student_data = async () => {\r\n        const result = await axios.get(`http://localhost:3100/studentdata/liststudent/${localStorage.getItem('Token_Key')}`)\r\n        setStudent(result.data);\r\n    }\r\n\r\n    const delete_student = async id => {\r\n        await axios.delete(`http://localhost:3100/studentdata/deletestudent/${id}`);\r\n        load_student_data();\r\n    };\r\n\r\n    const csv = async id => {\r\n        await axios.get(`http://localhost:3100/studentdata/csv/${id}`);\r\n        load_student_data();\r\n    };\r\n\r\n    const fetch_CSV = (id) =>{\r\n        console.log(\"call fetch\")\r\n        axios.get(\"http://localhost:3100/studentdata/fetchcsv/\"+id,{ responseType: 'blob' })\r\n        .then((res) => {\r\n           console.log(\"res\",res);\r\n           const pdfBlob = new Blob([res.data], { type: 'application/csv' });\r\n           //console.log(\"pdfdata\",pdfBlob);\r\n           saveAs(pdfBlob, 'DATA_INFO' + '_' + Date.now() + '.csv');\r\n        })\r\n        .catch(err=>{\r\n           console.log(\"Error=>\",err)\r\n        })\r\n    }\r\n\r\n    const pdf = async id => {\r\n        await axios.post(`http://localhost:3100/studentdata/pdf/${id}`);\r\n        load_student_data();\r\n    };\r\n\r\n    const fetch_pdf = (id,fname,lname) =>{\r\n        console.log(\"call fetch\")\r\n        console.log(id,fname,lname);\r\n        axios.get(\"http://localhost:3100/studentdata/fetchpdf/\"+id,{ responseType: 'blob' })\r\n        .then((res) => {\r\n           const pdfBlob = new Blob([res.data], { type: 'application/pdf' });\r\n           console.log(\"pdfdata\",pdfBlob);\r\n           saveAs(pdfBlob, fname + \"_\" + lname + \"_\" + Date.now() +'.pdf');\r\n        })\r\n        .catch(err=>{\r\n           console.log(\"Error=>\",err)\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container\" style={{ marginLeft: '0px' }}>\r\n            <div className=\"py-4 shadow-lg p-0 mb-5 bg-white\" style={{ width: '1480px', margin: '20px 0 0 0', borderRadius: '60px' }}>\r\n\r\n                <div className=\"col-12 row\">\r\n                    <div style={{ margin: '0 0 0 50px' }}>\r\n                        <h1 style={{ fontSize: '40px', fontFamily: 'cursive' }}>Students List Page</h1>\r\n                    </div>\r\n                    <div style={{ margin: '0 0 10px 985px' }}>\r\n                        <Link style={{border:'none'}} className=\"btn btn-outline-warning btn-lg\" onClick={() => { if (window.confirm('Are you sure you wish to create CSV ?')) csv(localStorage.getItem('Token_Key')); fetch_CSV(localStorage.getItem('Token_Key')) }} ><i class=\"far fa-file-csv fa-2x\"></i></Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <table className=\"table border\">\r\n                    <thead className=\"thead-dark\">\r\n                        <tr>\r\n                            <th scope=\"col\"><i class=\"fal fa-list-ol fa-2x\" style={{color:\"white\"}}></i></th>\r\n                            <th scope=\"col\" >Image</th>\r\n                            <th scope=\"col\" >Firstname</th>\r\n                            <th scope=\"col\" >Lastname</th>\r\n                            <th scope=\"col\" >Email</th>\r\n                            <th scope=\"col\" >Department</th>\r\n                            <th scope=\"col\" >Mobile NO</th>\r\n                            <th scope=\"col\" >Address</th>\r\n                            <th scope=\"col\" width=\"150px\" >DOB</th>\r\n                            <th scope=\"col\" >Graduation Year</th>\r\n                            <th scope=\"col\" >password</th>\r\n                            <th scope=\"col\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {student_data.map((stu, index) => (\r\n                            <tr>\r\n                                <th id=\"tab\" scope=\"row\">{index + 1}</th>\r\n                                <td id=\"tab\"><img style={{width:'60px',height:'60px',borderRadius:'60px'}} src={'/uploads/' + stu.profile} /></td>\r\n                                <td id=\"tab\">{stu.first_name}</td>\r\n                                <td id=\"tab\">{stu.last_name}</td>\r\n                                <td id=\"tab\">{stu.email_id}</td>\r\n                                <td id=\"tab\">{stu.Department}</td>\r\n                                <td id=\"tab\">{stu.contact_no}</td>\r\n                                <td id=\"tab\">{stu.address}</td>\r\n                                <td id=\"tab\">{moment(stu.birthday).format('DD-MM-YYYY')}</td>\r\n                                <td id=\"tab\">{stu.graduation_year}</td>\r\n                                <td id=\"tab\">{stu.password}</td>\r\n                                <td style={{verticalAlign: 'middle',textAlign: 'center',display: 'revert' }}>\r\n                                    <Link  style={{border:'none'}}  className=\"btn btn-outline-danger\" onClick={() => { if (window.confirm('Are you sure you wish to delete this item?')) delete_student(stu._id) }} ><i class=\"fas fa-trash-alt\"></i></Link>\r\n                                    <Link  style={{border:'none'}}  className=\"btn btn-outline-success\" exact to={`/viewstudent/${stu._id}`}><i class=\"fa fa-eye fa-spin\"></i></Link>\r\n                                    <Link  style={{border:'none'}}  className=\"btn btn-outline-primary\" exact to={`/Editstudent/${stu._id}`} ><i class=\"far fa-edit\"></i></Link>\r\n                                    <Link  style={{border:'none'}}  className=\"btn btn-outline-info\" onClick={() => { if (window.confirm('Are you sure you wish to create PDF ?')) pdf(stu._id); fetch_pdf(stu._id,stu.first_name,stu.last_name) }} ><i class=\"far fa-file-pdf\"></i></Link>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default List_Student;\r\n\r\n\r\n// import React, { Component } from 'react'\r\n// import axios from 'axios';\r\n\r\n// import { Link, NavLink } from 'react-router-dom';\r\n\r\n// export default class List_Studenet extends Component {\r\n\r\n//     constructor(props) {\r\n//         super(props)\r\n//         this.delete_student = this.delete_student.bind(this)\r\n//         this.state = { students: [] }\r\n//     }\r\n\r\n//     componentDidMount() {\r\n//         axios.get(\"http://localhost:3100/studentdata/liststudent\")\r\n//             .then(res => {\r\n//                 this.setState({\r\n//                     students: res.data.reverse()\r\n//                 });\r\n//             })\r\n//             .catch((error) => {\r\n//                 console.log(error);\r\n//             })\r\n//     }\r\n\r\n//     delete_student = id =>{\r\n//         axios.delete(`http://localhost:3100/studentdata/deletestudent/${id}`)\r\n//         .then(res=>{\r\n//             //console.log('Student successfully deleted!'+res.id);\r\n//             window.location.replace('/liststudent');\r\n//             //this.props.history.push(\"/liststudent\");\r\n//         }).catch(err=>{\r\n//             console.log('Student Not deleted!'+err);\r\n//         })\r\n//     }\r\n\r\n//     render() {\r\n//         return (\r\n//             <div className=\"container\" style={{marginLeft:'0px'}}>\r\n//                 <div className=\"py-4\">\r\n//                     <h1 style={{margin:'0 0 10px 360px',fontSize:'40px',fontFamily: 'cursive'}}>Students Page</h1>\r\n//                     <table className=\"table border shadow-lg p-5 mb-5 bg-white rounded\" style={{width:'1480px'}}>\r\n//                         <thead className=\"thead-dark\">\r\n//                             <tr>\r\n//                                 <th scope=\"col\">#</th>\r\n//                                 <th scope=\"col\" width=\"10px\">Image</th>\r\n//                                 <th scope=\"col\" width=\"10px\">Firstname</th>\r\n//                                 <th scope=\"col\" width=\"10px\">Lastname</th>\r\n//                                 <th scope=\"col\" width=\"20px\">Email</th>\r\n//                                 <th scope=\"col\" width=\"10px\">Department</th>\r\n//                                 <th scope=\"col\" width=\"10px\">Mobile NO</th>\r\n//                                 <th scope=\"col\" width=\"30px\">Address</th>\r\n//                                 <th scope=\"col\" width=\"10px\">DOB</th>\r\n//                                 <th scope=\"col\" width=\"10px\">Graduation Year</th>\r\n//                                 <th scope=\"col\" width=\"10px\">password</th>\r\n//                                 <th scope=\"col\">Action</th>\r\n//                             </tr>\r\n//                         </thead>\r\n//                         <tbody>\r\n//                             {this.state.students.map((stu, index) => (\r\n//                                 <tr>\r\n//                                     <th scope=\"row\">{index + 1}</th>\r\n//                                     <td><img width=\"50\" height=\"50\" src={'/uploads/' + stu.profile} /></td>\r\n//                                     <td>{stu.first_name}</td>\r\n//                                     <td>{stu.last_name}</td>\r\n//                                     <td>{stu.email_id}</td>\r\n//                                     <td>{stu.Department}</td>\r\n//                                     <td>{stu.contact_no}</td>\r\n//                                     <td>{stu.address}</td>\r\n//                                     <td>{(stu.birthday)}</td>\r\n//                                     <td>{stu.graduation_year}</td>\r\n//                                     <td>{stu.password}</td>\r\n//                                     <td>\r\n//                                         <Link className=\"btn btn-outline-danger\" onClick={() => { if (window.confirm('Are you sure you wish to delete this item?'))  this.delete_student(stu._id) }} >DELETE</Link>\r\n//                                         {\" \"}||{\" \"}\r\n//                                         <Link className=\"btn btn-outline-secondary\" exact to={`/viewstudent/${stu._id}`}>VIEW</Link>\r\n//                                         {\" \"}||{\" \"}\r\n//                                         <Link className=\"btn btn-outline-primary\" exact to={`/Editstudent/${stu._id}`} >EDIT</Link>\r\n\r\n//                                     </td>\r\n//                                 </tr>\r\n//                             ))}\r\n//                         </tbody>\r\n//                     </table>\r\n//                 </div>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}